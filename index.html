<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ASTORIA HOME Â· Real Estate</title>
<link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">ASTORIA HOME</div>
    <div class="contact">
      ğŸ“ <a href="tel:+41797556845">+41 79 755 68 45</a> Â· âœ‰ï¸ <a href="mailto:ag@astoriahome.ch">ag@astoriahome.ch</a>
    </div>
  </header>

  <section class="hero">
    <h1>ASTORIA HOME</h1>
    <div class="sub">Real Estate</div>
    <div class="claim">â€Vertrauen. Kompetenz. Heimat.â€œ</div>
  </section>

  <section class="section">
    <h2>Aktuelle Angebote</h2>
    <div id="cards" class="grid"></div>
    <div class="cta"><a class="btn" href="mailto:ag@astoriahome.ch?subject=Kostenlose%20Erstberatung">Kostenlose Erstberatung</a></div>
  </section>

  <footer>
    Â© ASTORIA HOME Real Estate â€” Gotthardstrasse 25b, 6410 Goldau
  </footer>

<script>
async function renderProjects(){
  try{
    const res = await fetch('data/projekte.json', {cache: 'no-store'});
    const data = await res.json();
    const wrap = document.getElementById('cards');
    if(!data.items || data.items.length===0){
      wrap.innerHTML = '<p>Noch keine Angebote â€“ fÃ¼ge Objekte im Admin-Bereich hinzu.</p>';
      return;
    }
    wrap.innerHTML = data.items.map(item => `
      <article class="card">
        ${item.bild ? `<img src="${item.bild}" alt="${item.titel || 'Objekt'}">` : ''}
        <div class="p">
          <h3>${item.titel || ''}</h3>
          <div>${item.ort || ''} ${item.zimmer ? ' Â· ' + item.zimmer + '-Zimmer' : ''} ${item.flaeche ? ' Â· ' + item.flaeche + ' mÂ²' : ''}</div>
          ${item.preis ? `<div class="price">${item.preis}</div>` : ''}
        </div>
      </article>
    `).join('');
  }catch(e){
    document.getElementById('cards').innerHTML = '<p>Fehler beim Laden der Angebote.</p>';
  }
}
renderProjects();
</script>
</body>
</html>
